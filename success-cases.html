<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Casos de éxito - Zerogap</title>
  <!-- Tipografía moderna coherente con el landing -->
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="animations.css">
  <meta name="description" content="Descubre casos reales donde hemos transformado problemas complejos en ventajas competitivas medibles.">
</head>
<body>
  <div class="scroll-progress" id="scrollProgress"></div>

  <header>
    <div class="nav-container">
      <a href="index.html" class="logo"><img src="images/logo.png" alt="Logotipo Zerogap"></a>
      
      <!-- Botón hamburguesa para móvil -->
      <div class="menu-toggle" id="menuToggle">
        <span></span>
        <span></span>
        <span></span>
      </div>
      
      <nav id="navMenu">
        <a href="what-we-do.html">Qué hacemos</a>
        <a href="success-cases.html" class="active">Casos de éxito</a>
        <a href="asicam.html">ASICAM</a>
        <a href="about.html">Acerca de</a>
        <a href="contact.html">Contacto</a>
      </nav>
    </div>
    
    <!-- Overlay para cerrar menú en móvil -->
    <div class="menu-overlay" id="menuOverlay"></div>
  </header>

  <main>
    <!-- Hero de página interna -->
    <section id="page-hero">
      <div class="hero-content">
        <h1>Casos de éxito</h1>
        <p class="hero-subtitle">
          Casos reales donde hemos transformado problemas complejos en ventajas competitivas medibles
        </p>
      </div>
    </section>

    <!-- Sección Casos de éxito / Desafíos resueltos -->
    <section id="success-cases">
      <div class="container">
        <div class="success-carousel-container">
          <div class="success-carousel-wrapper">
            <div class="success-carousel-track" id="successCarouselTrack">
              <!-- Caso 1: Forestal -->
              <div class="success-case-card">
                <div class="case-icon">
                  <img src="images/forest-optimization.jpg" alt="Optimización Forestal">
                </div>
                <h3>Optimización de Cadenas de Suministro Forestal</h3>
                <p>
                  Planificación de cosecha, transporte y entregas para minimizar costos y kilómetros vacíos, integrando camiones, trenes y puertos.
                </p>
                <div class="case-details">
                  <h4>Desafío:</h4>
                  <p>Una empresa forestal líder necesitaba optimizar su cadena logística completa, desde la cosecha hasta la entrega en puertos, minimizando costos operacionales y reduciendo el impacto ambiental.</p>
                  
                  <h4>Solución:</h4>
                  <p>Implementamos un sistema integral que combina algoritmos de optimización, análisis predictivo y coordinación multimodal entre camiones, trenes y operaciones portuarias.</p>
                </div>
              </div>

              <!-- Caso 2: Infraestructura -->
              <div class="success-case-card">
                <div class="case-icon">
                  <img src="images/infrastructure-planning.jpg" alt="Planificación de Infraestructura">
                </div>
                <h3>Habilitación de Infraestructura Productiva</h3>
                <p>
                  Priorización óptima de predios, caminos y faenas para cumplir metas de producción con el menor CAPEX.
                </p>
                <div class="case-details">
                  <h4>Desafío:</h4>
                  <p>Una compañía minera requería definir la secuencia óptima de habilitación de infraestructura para maximizar la producción minimizando la inversión de capital.</p>
                  
                  <h4>Solución:</h4>
                  <p>Desarrollamos modelos matemáticos de optimización que consideran restricciones operacionales, geológicas y presupuestarias para definir la estrategia óptima de inversión.</p>
                </div>
              </div>

              <!-- Caso 3: Minería -->
              <div class="success-case-card">
                <div class="case-icon">
                  <img src="images/mining-rail.jpg" alt="Planificación Minera">
                </div>
                <h3>Planificación Minera y Ferroviaria</h3>
                <p>
                  Modelos que maximizan valor presente neto y evitan cuellos de botella en la operación de largo plazo.
                </p>
                <div class="case-details">
                  <h4>Desafío:</h4>
                  <p>Una operación minera de gran escala necesitaba optimizar la planificación integrada de extracción y transporte ferroviario para maximizar el valor económico a largo plazo.</p>
                  
                  <h4>Solución:</h4>
                  <p>Implementamos un sistema de planificación que integra la secuencia de extracción con la capacidad ferroviaria, optimizando el valor presente neto y minimizando cuellos de botella.</p>
                </div>
              </div>

              <!-- Caso 4: Licitaciones -->
              <div class="success-case-card">
                <div class="case-icon">
                  <img src="images/public-tenders.jpg" alt="Licitaciones Públicas">
                </div>
                <h3>Licitaciones Logístico-Económicas</h3>
                <p>
                  Modelos para subastas complejas como alimentación escolar, pago de pensiones y espectro 5G, logrando el óptimo entre costo, cobertura y competencia.
                </p>
                <div class="case-details">
                  <h4>Desafío:</h4>
                  <p>Organismos públicos requerían sistemas para licitaciones complejas que balancearan múltiples objetivos: minimizar costos, maximizar cobertura y promover competencia.</p>
                  
                  <h4>Solución:</h4>
                  <p>Diseñamos algoritmos de subasta multiobjetivo que consideran restricciones geográficas, económicas y de competencia para generar asignaciones óptimas.</p>
                </div>
              </div>

              <!-- Caso 5: Rutas urbanas -->
              <div class="success-case-card">
                <div class="case-icon">
                  <img src="images/urban-routes.jpg" alt="Rutas Urbanas">
                </div>
                <h3>Optimización de Rutas Urbanas</h3>
                <p>
                  Rediseño de circuitos de residuos, reciclaje y reparto postal para recortar tiempos, emisiones y kilómetros.
                </p>
                <div class="case-details">
                  <h4>Desafío:</h4>
                  <p>Municipalidades y empresas de logística urbana necesitaban optimizar sus rutas de recolección y reparto para reducir costos operacionales y el impacto ambiental.</p>
                  
                  <h4>Solución:</h4>
                  <p>Desarrollamos algoritmos de ruteo que consideran restricciones de tráfico, horarios, capacidades vehiculares y objetivos ambientales para generar rutas óptimas.</p>
                </div>
              </div>

              <!-- Caso 6: Energía -->
              <div class="success-case-card">
                <div class="case-icon">
                  <img src="images/energy-contracts.jpg" alt="Contratos Energéticos">
                </div>
                <h3>Estrategias Tarifarias y Energéticas</h3>
                <p>
                  Ajuste de estructuras de precios y compras de energía según demanda real, para grandes consumidores industriales.
                </p>
                <div class="case-details">
                  <h4>Desafío:</h4>
                  <p>Grandes consumidores industriales requerían optimizar sus contratos energéticos y estructuras tarifarias para minimizar costos sin comprometer la continuidad operacional.</p>
                  
                  <h4>Solución:</h4>
                  <p>Implementamos modelos de optimización que analizan patrones de consumo, precios del mercado y riesgos para definir la estrategia óptima de contratación energética.</p>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Navegación del carrusel -->
          <div class="success-carousel-nav">
            <button class="success-carousel-btn prev" id="successPrevBtn">‹</button>
            <button class="success-carousel-btn next" id="successNextBtn">›</button>
          </div>
          
          <!-- Indicadores -->
          <div class="success-carousel-dots">
            <span class="success-dot active" data-slide="0"></span>
            <span class="success-dot" data-slide="1"></span>
            <span class="success-dot" data-slide="2"></span>
            <span class="success-dot" data-slide="3"></span>
            <span class="success-dot" data-slide="4"></span>
            <span class="success-dot" data-slide="5"></span>
          </div>
        </div>
      </div>
    </section>

    <!-- Llamado a la acción -->
    <section id="cta">
      <div class="cta-container">
        <h2>¿Tu empresa enfrenta desafíos similares?</h2>
        <p>
          Conversemos sobre cómo podemos adaptar nuestras soluciones a tu realidad específica.
        </p>
        <a href="contact.html" class="btn">Contáctanos</a>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-container">
      <p>&copy; 2025 Zerogap. Todos los derechos reservados.</p>
      <p>Napoleón 3037, Depto 71, Las Condes, Chile</p>
      <p><a href="https://wa.me/56939100549" target="_blank">WhatsApp</a> | <a href="mailto:contacto@zerogap.cl">contacto@zerogap.cl</a></p>
    </div>
  </footer>

  <script>
    // Header scroll effect y barra de progreso
    const header = document.querySelector('header');
    const scrollProgress = document.getElementById('scrollProgress');

    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;

      if (header) {
        if (currentScroll > 50) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
      }

      if (scrollProgress) {
        const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
        const scrolled = scrollHeight > 0 ? (currentScroll / scrollHeight) * 100 : 0;
        scrollProgress.style.width = scrolled + '%';
      }
    });

    // Intersection Observer para animaciones on-scroll
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('reveal');
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    document.addEventListener('DOMContentLoaded', () => {
      const sections = document.querySelectorAll('section');
      sections.forEach(section => observer.observe(section));
    });

    // Carrusel de casos de éxito mejorado para móviles
    document.addEventListener('DOMContentLoaded', function() {
      let successCurrentSlide = 0;
      const successTrack = document.getElementById('successCarouselTrack');
      const successDots = document.querySelectorAll('.success-dot');
      const successPrevBtn = document.getElementById('successPrevBtn');
      const successNextBtn = document.getElementById('successNextBtn');
      const successTotalSlides = document.querySelectorAll('.success-case-card').length;

      if (!successTrack || !successTotalSlides) {
        console.warn('Elementos del carrusel de casos no encontrados');
        return;
      }

      function updateSuccessCarousel() {
        try {
          const isMobile = window.innerWidth < 768;
          const cardWidth = isMobile ? 300 : 350;
          const gap = isMobile ? 15 : 30;
          const offset = -(successCurrentSlide * (cardWidth + gap));
          
          if (successTrack) {
            successTrack.style.transform = `translateX(${offset}px)`;
            successTrack.style.transition = 'transform 0.3s ease-in-out';
          }
          
          // Actualizar dots
          successDots.forEach((dot, index) => {
            if (dot) {
              dot.classList.toggle('active', index === successCurrentSlide);
            }
          });

          // Actualizar visibilidad de botones
          if (successPrevBtn) {
            successPrevBtn.style.opacity = successCurrentSlide === 0 ? '0.5' : '1';
          }
          if (successNextBtn) {
            successNextBtn.style.opacity = successCurrentSlide === successTotalSlides - 1 ? '0.5' : '1';
          }
        } catch (error) {
          console.error('Error actualizando carrusel:', error);
        }
      }

      function nextSuccessSlide() {
        if (successCurrentSlide < successTotalSlides - 1) {
          successCurrentSlide++;
        } else {
          successCurrentSlide = 0; // Loop back to start
        }
        updateSuccessCarousel();
      }

      function prevSuccessSlide() {
        if (successCurrentSlide > 0) {
          successCurrentSlide--;
        } else {
          successCurrentSlide = successTotalSlides - 1; // Loop to end
        }
        updateSuccessCarousel();
      }

      // Event listeners seguros
      if (successNextBtn) {
        successNextBtn.addEventListener('click', (e) => {
          e.preventDefault();
          nextSuccessSlide();
        });
        successNextBtn.addEventListener('touchstart', (e) => {
          e.preventDefault();
          nextSuccessSlide();
        });
      }

      if (successPrevBtn) {
        successPrevBtn.addEventListener('click', (e) => {
          e.preventDefault();
          prevSuccessSlide();
        });
        successPrevBtn.addEventListener('touchstart', (e) => {
          e.preventDefault();
          prevSuccessSlide();
        });
      }

      // Dots navigation mejorado para móvil
      successDots.forEach((dot, index) => {
        if (dot) {
          dot.addEventListener('click', (e) => {
            e.preventDefault();
            successCurrentSlide = index;
            updateSuccessCarousel();
          });
          dot.addEventListener('touchstart', (e) => {
            e.preventDefault();
            successCurrentSlide = index;
            updateSuccessCarousel();
          });
        }
      });

      // Soporte para gestos táctiles (swipe)
      let startX = 0;
      let startY = 0;
      let distX = 0;
      let distY = 0;
      let threshold = 50; // Mínima distancia para registrar swipe
      let restraint = 100; // Máxima distancia perpendicular
      let allowedTime = 300; // Tiempo máximo para swipe
      let startTime = 0;

      const successCarouselContainer = document.querySelector('.success-carousel-container');
      
      if (successCarouselContainer && 'ontouchstart' in window) {
        successCarouselContainer.addEventListener('touchstart', (e) => {
          const touchobj = e.changedTouches[0];
          startX = touchobj.pageX;
          startY = touchobj.pageY;
          startTime = new Date().getTime();
        });

        successCarouselContainer.addEventListener('touchend', (e) => {
          const touchobj = e.changedTouches[0];
          distX = touchobj.pageX - startX;
          distY = touchobj.pageY - startY;
          const elapsedTime = new Date().getTime() - startTime;
          
          if (elapsedTime <= allowedTime && Math.abs(distX) >= threshold && Math.abs(distY) <= restraint) {
            if (distX > 0) {
              prevSuccessSlide(); // Swipe right -> previous slide
            } else {
              nextSuccessSlide(); // Swipe left -> next slide
            }
          }
        });
      }

      // Auto-scroll mejorado
      let successAutoSlide = setInterval(nextSuccessSlide, 6000);

      // Pausar auto-scroll al interactuar
      if (successCarouselContainer) {
        successCarouselContainer.addEventListener('mouseenter', () => {
          clearInterval(successAutoSlide);
        });

        successCarouselContainer.addEventListener('mouseleave', () => {
          clearInterval(successAutoSlide);
          successAutoSlide = setInterval(nextSuccessSlide, 6000);
        });

        // Pausar en touch para móviles
        successCarouselContainer.addEventListener('touchstart', () => {
          clearInterval(successAutoSlide);
        });

        successCarouselContainer.addEventListener('touchend', () => {
          clearInterval(successAutoSlide);
          successAutoSlide = setInterval(nextSuccessSlide, 6000);
        });
      }

      // Responsive mejorado
      let resizeTimeout;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          updateSuccessCarousel();
        }, 100);
      });

      // Inicializar
      updateSuccessCarousel();
      
      console.log('Carrusel de casos de éxito inicializado para móvil');
    });

    // Menú hamburguesa móvil
    document.addEventListener('DOMContentLoaded', function() {
      const menuToggle = document.getElementById('menuToggle');
      const navMenu = document.getElementById('navMenu');
      const menuOverlay = document.getElementById('menuOverlay');
      const body = document.body;

      function toggleMenu() {
        if (!menuToggle || !navMenu || !menuOverlay) return;

        menuToggle.classList.toggle('active');
        navMenu.classList.toggle('active');
        menuOverlay.classList.toggle('active');
        body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : '';
      }

      function closeMenu() {
        if (!menuToggle || !navMenu || !menuOverlay) return;

        menuToggle.classList.remove('active');
        navMenu.classList.remove('active');
        menuOverlay.classList.remove('active');
        body.style.overflow = '';
      }

      if (menuToggle) {
        menuToggle.addEventListener('click', toggleMenu);
      }

      if (menuOverlay) {
        menuOverlay.addEventListener('click', closeMenu);
      }

      if (navMenu) {
        const navLinks = navMenu.querySelectorAll('a');
        navLinks.forEach(link => {
          link.addEventListener('click', closeMenu);
        });
      }

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && navMenu && navMenu.classList.contains('active')) {
          closeMenu();
        }
      });
    });
  </script>
</body>
</html>
